---
import BaseLayout from "../../layouts/BaseLayout.astro";

const allPosts = await Astro.glob("../posts/*.md");
const tags = [...new Set(allPosts.map((post) => post.frontmatter.tags).flat())]
const pageTitle = "Tags Index"
---

<BaseLayout pageTitle={pageTitle}>
  <div class="tags-container">
    {
      tags.map((tag) => (
        <p><a class="tag-badge" href={`/tags/${tag}`}>{tag}</a></p>
      ))
    }
  </div>

</BaseLayout>

<style>
  .tags-container {
    display: flex;
    column-gap: 10px;
  }
  .tag-badge {
    padding-inline: 0.85rem;
    padding-block: 0.25rem;
    border-radius: 1rem;
    font-size: 1rem;
    background-color: color-mix(in srgb, navy 50%, purple 50%);
    color: white;
    text-decoration: none;
    text-rendering: optimizeLegibility;
    box-shadow: 1px 1px 4px rgba(0,0,0,0.5);
  }
  .tag-badge:hover {
    filter: brightness(1.2)
  }
</style>